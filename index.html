<script>
  const validCodes = ["VS-2025-001", "VS-2025-002", "VS-2025-003"]; // Add your real codes here

  function getCodeFromURL() {
    const params = new URLSearchParams(window.location.search);
    return params.get('code')?.toUpperCase();
  }

  function verifyCode(code) {
    const resultDiv = document.getElementById('result');
    if (!code) {
      resultDiv.innerHTML = "<div class='invalid'>❗ No code entered. Please enter your map code.</div>";
      return;
    }
    if (validCodes.includes(code)) {
      resultDiv.innerHTML = `<div class="verified">✅ Verified Map Code: ${code}</div>`;
    } else {
      resultDiv.innerHTML = `<div class="invalid">❌ Invalid or Unrecognized Code.</div>`;
    }
  }

  // Auto verify when page loads
  window.onload = () => {
    const code = getCodeFromURL();
    if (code) {
      document.getElementById('codeInput').value = code;
    }
    verifyCode(code);
  };
</script>
